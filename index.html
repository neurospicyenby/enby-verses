<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Verses From a Self-Doubting Enby</title>
  <meta name="description" content="Poetry brought to you by Jayden">
  
  <!-- Open Graph Meta Tags for Social Media -->
  <meta property="og:title" content="Verses From a Self-Doubting Enby">
  <meta property="og:description" content="Poetry brought to you by Jayden">
  <meta property="og:image" content="https://i.postimg.cc/cLqkGyjC/Screenshot-2025-01-01-233506.png">
  <meta property="og:url" content="https://neurospicyenby.github.io/enby-verses/index.html">
  <meta property="og:type" content="website">

  <!-- Google Tag -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GGL45VKHJ3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GGL45VKHJ3');
  </script>

  <!-- Keep this script so we can manually open Tally form on demand. -->
  <script async src="https://tally.so/widgets/embed.js"></script>
  
  <style>
    @font-face {
      font-family: 'LemonTuesday';
      src: url('./LemonTuesday.otf') format('opentype');
    }

    /* ---------------------------------
       BASE PAGE & BODY STYLES
    --------------------------------- */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #2C2C2C;
      background-image: url('https://i.postimg.cc/nr4K0H5y/verses-from-a-self-doubting-enby-banner.webp');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    /* Make background scroll on mobile so it doesn't scale awkwardly */
    @media (max-width: 767px) {
      body {
        background-attachment: scroll;
      }
    }

    /* ---------------------------------
       HEADER
    --------------------------------- */
    header {
      position: relative;
      width: 100%;
      height: 300px;
    }

    header .header-content {
      position: absolute;
      top: 45%;
      left: 0;
      transform: translateY(-50%);
      color: #2C2C2C;
      padding: 0 1rem;
    }

    header .title-block {
      background-color: #81E6D9;
      padding: 0.5rem 1rem;
      margin: 0 0 0.5rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      max-width: 70%;
      border-radius: 4px;
    }

    header .title-block h1 {
      font-size: 2.8rem;
      margin: 0;
      font-family: 'LemonTuesday', cursive;
    }

    header .tagline-block {
      background-color: #C7C1F8;
      padding: 0.5rem 1rem;
      margin: 0 0 0.5rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      max-width: 70%;
      border-radius: 4px;
    }

    header .tagline-block p {
      font-size: 1.1rem;
      margin: 0;
    }

    @media (max-width: 767px) {
      header {
        height: auto;
      }
      header .header-content {
        position: static;
        transform: none;
        top: auto;
        left: auto;
        margin: 1rem 0;
      }
      header .title-block h1 {
        font-size: 1.6rem;
      }
    }

    /* ---------------------------------
       WELCOME SECTION
    --------------------------------- */
    .welcome-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      padding: 1.5rem;
      background-color: #FC92E9;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      margin: 2rem auto;
      border-radius: 8px;
    }

    .welcome-section img {
      width: 120px;
      aspect-ratio: 1 / 1; /* fallback in modern browsers */
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid #F5F5F5;
      display: block;
      margin: 0 auto 1rem auto;
    }

    .welcome-section h2 {
      font-size: 2rem;
      margin: 0 0 0.5rem;
    }

    .welcome-section p {
      font-size: 1rem;
      line-height: 1.6;
      color: #555;
      margin: 0;
      text-align: center;
    }

    @media (max-width: 767px) {
      .welcome-section {
        margin: 1rem;
      }
      .welcome-section img {
        margin-bottom: 1rem;
      }
    }

    @media (min-width: 768px) {
      .welcome-section {
        flex-direction: row;
        align-items: center;
        justify-content: flex-start;
        margin: -50px auto 2rem;
      }
      .welcome-section img {
        margin: 0 1.5rem 0 0;
      }
      .welcome-section h2,
      .welcome-section p {
        text-align: left;
      }
    }

    /* ---------------------------------
       POEM LIST (CHRONOLOGICAL)
    --------------------------------- */
    .poem-list {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1.5rem;
      background-color: rgba(255, 255, 255, 0.9); /* Slight opacity */
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .poem-list h2 {
      font-size: 1.75rem;
      margin: 1rem 0;
      text-align: center;
    }

    .poem-list ul {
      column-count: 2;
      column-gap: 1.5rem;
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    @media (max-width: 767px) {
      .poem-list ul {
        column-count: 1;
      }
    }

    .poem-list a {
      display: inline-block;
      text-decoration: none;
      color: #2C2C2C;
      font-size: 1rem;
      padding: 0.5rem 1rem;
      background-color: #FFFFFF;
      border: 1px solid #2C2C2C;
      border-radius: 4px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .poem-list a:hover {
      background-color: #FFD700;
      color: #000000;
    }

    .poem-list a .emoji {
      display: inline-block;
      transition: transform 0.2s ease;
    }
    .poem-list a:hover .emoji {
      transform: translateX(5px);
    }

    /* Hide each poem until its publish date arrives */
    .poem-list li {
      display: none;
      margin-bottom: 1rem;
    }

    /* ---------------------------------
       THEME LISTS (AUTO-POPULATED)
    --------------------------------- */
    .theme-lists {
      max-width: 800px;
      margin: 2rem auto;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .theme-section {
      margin-bottom: 2rem;
    }
    .theme-section h2 {
      margin: 1rem 0;
      font-size: 1.4rem;
      color: #333;
    }
    .theme-poems {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .theme-poems li {
      margin-bottom: 0.5rem;
    }

    /* ---------------------------------
       FOOTER
    --------------------------------- */
    footer {
      text-align: center;
      padding: 1rem;
      background-color: #2C2C2C;
      color: #FFFFFF;
      margin-top: 2rem;
    }

    /* ---------------------------------
       FLOATING BUBBLE FOR TALLY
    --------------------------------- */
    .floating-bubble {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #FFD700;
      color: #fff;
      font-size: 24px;
      text-align: center;
      line-height: 50px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      transition: background-color 0.2s ease;
      z-index: 9999;

      /* Pulsate animation */
      animation: pulsate 2s infinite;
    }

    .floating-bubble:hover {
      background-color: #fa65d5;
    }

    @keyframes pulsate {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
      }
    }

    /* ---------------------------------
       KEY CONTAINER (OFFSCREEN PANEL + TAB)
    --------------------------------- */
    .key-container {
      position: fixed;
      top: 50%;
      left: -225px; /* keep partially offscreen, e.g. 25px visible if width=250px */
      transform: translateY(-50%);
      width: 250px;
      background-color: #FFFFFF;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      border-radius: 0 4px 4px 0;
      transition: left 0.3s ease;
      z-index: 9998; /* just behind the floating bubble if overlapping */
    }
    .key-container.show {
      left: 0; /* slide fully into view */
    }

    /* TAB that protrudes horizontally from the container's right edge */
    .key-tab {
      position: absolute;
      top: 20px;     /* vertical offset inside the container */
      right: -50px;  /* how far it protrudes; negative = outside container edge */
      width: 80px;
      height: 40px;
      background-color: #81E6D9;
      color: #2C2C2C;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px 0 0 4px; /* left corners rounded for a 'tab' shape */
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    /* Key content area inside the panel */
    .key-content {
      padding: 1rem;
      margin: 1rem 0;
    }
    .key-content h2 {
      margin-top: 0;
      font-size: 1.1rem;
      text-align: center;
    }
    .key-content ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .key-content li {
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }

    /* ONE-TIME NUDGE ANIMATION */
    .key-container.nudge {
      animation: tabNudge 1.5s ease-in-out;
    }
    @keyframes tabNudge {
      0%   { left: -225px; }
      30%  { left: -210px; }
      50%  { left: -205px; }
      80%  { left: -210px; }
      100% { left: -225px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="title-block">
        <h1>Verses From a Self-Doubting Enby</h1>
      </div>
      <div class="tagline-block">
        <p>Writing Like Someone’s Reading—But Who Knows?</p>
      </div>
    </div>
  </header>

  <section class="welcome-section">
    <img src="https://i.postimg.cc/BnL8WGS9/IMG-6145.jpg" alt="Headshot">
    <div>
      <h2>Welcome</h2>
      <p>
        Welcome to Verses From a Self-Doubting Enby, a space where I share my thoughts in poetry form; 
        sometimes serious, sometimes light-hearted, but always real. My poems explore everything from 
        the complexities of identity to the random quirks of life that make you smile, with a few 
        self-doubts thrown in for good measure.
      </p>
    </div>
  </section>

  <main>
    <!-- Original chronological poem list -->
    <div class="poem-list">
      <h2>Poems</h2>
      <ul>
        <!-- Adjust data-themes as desired -->
        <li data-publish-date="2025-01-04T16:15:00Z" data-themes="heartbreak">
          <a href="strangersnow.html"><span class="emoji">💔</span> Strangers Now</a>
        </li>
        <li data-publish-date="2025-01-04T00:30:00Z" data-themes="love">
          <a href="lovedisappearance.html"><span class="emoji">💜</span> Love in the Disappearance</a>
        </li>
        <li data-publish-date="2025-01-03T23:00:00Z" data-themes="love">
          <a href="eachtime.html"><span class="emoji">💌</span> Each Time That One Loves</a>
        </li>
        <li data-publish-date="2025-01-01T10:00:00Z" data-themes="lgbtq+">
          <a href="DontMockMyMonogamy.html"><span class="emoji">🏳️‍🌈</span> Don't Mock My Monogamy</a>
        </li>
        <li data-publish-date="2025-01-01T18:00:00Z" data-themes="mental-health">
          <a href="punctuationmatters.html"><span class="emoji">💚</span> Punctuation Matters</a>
        </li>
        <li data-publish-date="2025-01-01T16:00:00Z" data-themes="lgbtq+">
          <a href="revolvingclosetdoor.html"><span class="emoji">🏳️‍🌈</span> Revolving Closet Door</a>
        </li>
        <li data-publish-date="2025-01-01T09:00:00Z" data-themes="lgbtq+">
          <a href="theyrewinning.html"><span class="emoji">🏳️‍🌈</span> They're Winning</a>
        </li>
        <li data-publish-date="2025-01-01T13:00:00Z" data-themes="heartbreak">
          <a href="uninvited.html"><span class="emoji">🚫</span> Uninvited</a>
        </li>
        <li data-publish-date="2025-01-01T17:30:00Z" data-themes="life">
          <a href="thelasttime.html"><span class="emoji">🌱</span> The Last Time</a>
        </li>
        <li data-publish-date="2025-01-01T11:15:00Z" data-themes="life">
          <a href="wandering.html"><span class="emoji">🌱</span> Wandering</a>
        </li>
        <li data-publish-date="2025-01-01T19:00:00Z" data-themes="gender-nonconformity">
          <a href="threadsunravelled.html"><span class="emoji">🏳️‍⚧️</span> Threads Unravelled</a>
        </li>
        <li data-publish-date="2025-01-01T08:45:00Z" data-themes="neurodiversity">
          <a href="adhdparalysis.html"><span class="emoji">🧠</span> ADHD Paralysis</a>
        </li>
        <li data-publish-date="2025-01-01T15:00:00Z" data-themes="life">
          <a href="silentblueticks.html"><span class="emoji">🌱</span> Silent Blue Ticks</a>
        </li>
        <li data-publish-date="2025-01-01T14:30:00Z" data-themes="neurodiversity">
          <a href="notjustaquirk.html"><span class="emoji">🧠</span> Not Just a Quirk</a>
        </li>
        <li data-publish-date="2025-01-01T18:00:00Z" data-themes="gender-nonconformity">
          <a href="tomboy.html"><span class="emoji">🏳️‍⚧️</span> Tomboy</a>
        </li>
      </ul>
    </div>

    <!-- THEME LISTS (auto-populated) -->
    <section class="theme-lists">
      <h2 style="text-align:center;">Explore by Theme</h2>

      <div id="theme-neurodiversity" class="theme-section">
        <h2>Neurodiversity</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-gender-nonconformity" class="theme-section">
        <h2>Gender Non-conformity</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-lgbtq+" class="theme-section">
        <h2>LGBTQ+</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-love" class="theme-section">
        <h2>Love</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-heartbreak" class="theme-section">
        <h2>Heartbreak</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-friendship" class="theme-section">
        <h2>Friendship</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-life" class="theme-section">
        <h2>General Life Experience</h2>
        <ul class="theme-poems"></ul>
      </div>

      <div id="theme-mental-health" class="theme-section">
        <h2>Mental Health</h2>
        <ul class="theme-poems"></ul>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Verses From a Self-Doubting Enby. Created with 💜 and reflection.</p>
  </footer>

  <!-- FLOATING BUBBLE: triggers Tally popup -->
  <div class="floating-bubble" onclick="openTallyPopup()">💌</div>

  <!-- KEY CONTAINER (PANEL + TAB) -->
  <div id="keyContainer" class="key-container">
    <!-- Horizontal tab protruding from the panel edge -->
    <div class="key-tab" onclick="toggleKeyPanel()">Key</div>
    
    <!-- Panel Content -->
    <div class="key-content">
      <h2>Key</h2>
      <ul>
        <li>🧠 – Neurodiversity</li>
        <li>🏳️‍⚧️ – Gender Non-conformity</li>
        <li>🏳️‍🌈 – LGBTQ+</li>
        <li>💌 – Love</li>
        <li>💔 – Heartbreak</li>
        <li>💜 – Friendship</li>
        <li>🌱 – General Life Experience</li>
        <li>💚 – Mental Health</li>
      </ul>
    </div>
  </div>

  <script>
    function openTallyPopup() {
      // Opens your Tally form in a popup by ID
      Tally.openPopup('wMva4E');
    }

    document.addEventListener("DOMContentLoaded", function() {
      const poems = document.querySelectorAll(".poem-list li");
      const now = new Date();

      // 1) Reveal poems if their publish date has passed
      poems.forEach(poem => {
        const publishDate = poem.getAttribute("data-publish-date");
        const publishDateTime = new Date(publishDate);
        if (now >= publishDateTime) {
          poem.style.display = "block";
        }
      });

      // 2) Populate "by theme" lists
      poems.forEach(poem => {
        // Only deal with poems that are visible
        if (poem.style.display !== "block") return;

        const themeString = poem.getAttribute("data-themes");
        if (!themeString) return; // no theme data => skip

        const themeList = themeString.split(",").map(t => t.trim().toLowerCase());
        themeList.forEach(theme => {
          // Find matching <div id="theme-<theme>"> 
          const themeSection = document.getElementById(`theme-${theme}`);
          if (themeSection) {
            const ul = themeSection.querySelector(".theme-poems");
            if (ul) {
              // Clone the <li> so it can appear in multiple theme lists
              const clone = poem.cloneNode(true);
              ul.appendChild(clone);
            }
          }
        });
      });

      // 3) Trigger one-time nudge animation on page load
      const keyContainer = document.getElementById('keyContainer');
      keyContainer.classList.add('nudge');
      keyContainer.addEventListener('animationend', function() {
        keyContainer.classList.remove('nudge');
      });
    });

    // Slide the Key panel in/out
    function toggleKeyPanel() {
      const container = document.getElementById('keyContainer');
      container.classList.toggle('show');
    }
  </script>
</body>
</html>
